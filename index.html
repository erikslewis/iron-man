<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<style>
button.B{
  -webkit-border-radius: 60;
 -moz-border-radius: 60;
 border-radius: 60px;
 font-family: Arial;
 color: red;
 font-size: 20px;
 background: black;
 padding: 7px 11px 7px 11px;
 border: solid red 4px;
 text-decoration: none;
}
button.Y {
  -webkit-border-radius: 60;
 -moz-border-radius: 60;
 border-radius: 60px;
 font-family: Arial;
 color: yellow;
 font-size: 20px;
 background: black;
padding: 7px 11px 7px 11px;
 border: solid yellow 4px;
 text-decoration: none;
}
button.X {
  -webkit-border-radius: 60;
 -moz-border-radius: 60;
 border-radius: 60px;
 font-family: Arial;
 color: blue;
 font-size: 20px;
 background: black;
padding: 7px 11px 7px 11px;
 border: solid blue 4px;
 text-decoration: none;
}
  button.A {
    -webkit-border-radius: 60;
   -moz-border-radius: 60;
   border-radius: 60px;
   font-family: Arial;
   color: green;
   font-size: 20px;
   background: black;
padding: 7px 11px 7px 11px;
   border: solid green 4px;
   text-decoration: none;
 }

canvas {
    border:1px solid #d3d3d3;
    background-image: url('images/New-York-City-e1455304205974.jpg');
}
body{
  background-image: url('images/ff7a640b6dab6dab6e22ba2c016f6198.png');
  background-repeat: no-repeat;
  background-position:right;
  background-color: black;
}
</style>
</head>
<body onload="startGame()">
<script>
var myGameArea;
var myGamePiece;
var myObstacles = [];
var myscore;

function restartGame() {
document.getElementById("myfilter").style.display = "none";
document.getElementById("myrestartbutton").style.display = "none";
myGameArea.stop();
myGameArea.clear();
myGameArea = {};
myGamePiece = {};
myObstacles = [];
myscore = {};
document.getElementById("canvascontainer").innerHTML = "";
startGame()
}


function startGame() {
    myGameArea = new gamearea();
    myGamePiece = new component(60, 30, "images/TgC_comic742.gif", 10, 120, "image");
    myscore = new component("15px", "Consolas", "red", 220, 25, "text");
    myGameArea.start();
}

function gamearea() {
   this.canvas = document.createElement("canvas");
   this.canvas.width = 520;
   this.canvas.height = 380;
   document.getElementById("canvascontainer").appendChild(this.canvas);
   this.context = this.canvas.getContext("2d");
   this.pause = false;
   this.frameNo = 0;
   this.start = function() {
       this.interval = setInterval(updateGameArea, 20);
   }
   this.stop = function() {
    clearInterval(this.interval);
    this.pause = true;
}
this.clear = function(){
    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
}
}

function component(width, height, color, x, y, type) {
    this.type = type;
    if (type == "image") {
        this.image = new Image();
        this.image.src = color;
    }
    this.width = width;
    this.height = height;
    this.speedX = 0;
    this.speedY = 0;
    this.x = x;
    this.y = y;
    this.update = function() {
        ctx = myGameArea.context;
        if (type == "image") {
            ctx.drawImage(this.image,
                this.x,
                this.y,
                this.width, this.height);
        } else {
            ctx.fillStyle = color;
            ctx.fillRect(this.x, this.y, this.width, this.height);
        }
    }
    this.crashWith = function(otherobj) {
     var myleft = this.x;
     var myright = this.x + (this.width);
     var mytop = this.y;
     var mybottom = this.y + (this.height);
     var otherleft = otherobj.x;
     var otherright = otherobj.x + (otherobj.width);
     var othertop = otherobj.y;
     var otherbottom = otherobj.y + (otherobj.height);
     var crash = true;
     if ((mybottom < othertop) || (mytop > otherbottom) || (myright < otherleft) || (myleft > otherright)) {
         crash = false;
     }
     return crash;
 }
}

function updateGameArea() {
 var x, y, min, max, height, gap;
 for (i = 0; i < myObstacles.length; i += 1) {
     if (myGamePiece.crashWith(myObstacles[i])) {
         myGameArea.stop();
         document.getElementById("myfilter").style.display = "block";
         document.getElementById("myrestartbutton").style.display = "block";
         return;
     }
 }
 if (myGameArea.pause == false) {
     myGameArea.clear();
     myGameArea.frameNo += 1;
     myscore.score +=1;
     if (myGameArea.frameNo == 1 || everyinterval(150)) {
         x = myGameArea.canvas.width;
         y = myGameArea.canvas.height - 100;
         min = 20;
         max = 100;
         height = Math.floor(Math.random()*(max-min+1)+min);
         min = 50;
         max = 100;
         gap = Math.floor(Math.random()*(max-min+1)+min);
         myObstacles.push(new component(10, height, "black", x, 0));
         myObstacles.push(new component(10, x - height - gap, "black", x, height + gap));
     }
     for (i = 0; i < myObstacles.length; i += 1) {
         myObstacles[i].x += -1;
         myObstacles[i].update();
     }
     myscore.text="SCORE: " + myscore.score;
     myscore.update();
     myGamePiece.x += myGamePiece.speedX;
     myGamePiece.y += myGamePiece.speedY;
     myGamePiece.update();
 }
}

function everyinterval(n) {
 if ((myGameArea.frameNo / n) % 1 == 0) {return true;}
 return false;
}

function moveup(e) {
 myGamePiece.speedY = -1;
}

function movedown() {
 myGamePiece.speedY = 1;
}

function moveleft() {
 myGamePiece.speedX = -1;
}

function moveright() {
 myGamePiece.speedX = 1;
}

function clearmove(e) {
 myGamePiece.speedX = 0;
 myGamePiece.speedY = 0;
}
startGame();
</script>
<div id="myfilter"></div>


<div id="myrestartbutton" style="float: right;position: relative; padding-top: 75px; padding-left: 120px; display: block;"><button onclick="restartGame()">Restart</button></div>



<div id="canvascontainer"></div>


<div style="text-align:center;width:320px;">
  <button class="Y" ontouchstart="moveup()" onmousedown="moveup()" onmouseup="clearmove()">Y</button><br><br>
  <button  class="X" ontouchstart="moveleft()" onmousedown="moveleft()" onmouseup="clearmove()">X</button>
  <button  class="B" ontouchstart="moveright()" onmousedown="moveright()" onmouseup="clearmove()">B</button><br><br>
  <button  class="A" ontouchstart="movedown()" onmousedown="movedown()" onmouseup="clearmove()">A</button>
</div>


</body>
</html>
